<!DOCTYPE html>
<html>
<head>
    <title>Network Web Video Player</title>
    <link href="https://vjs.zencdn.net/7.10.4/video-js.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/7.10.4/video.js"></script>
</head>
<body>
    <h1>Enter Video Link:</h1>
    <input type="text" id="videoLink" value="https://example.com/video.mkv">
    <button onclick="loadVideo()">Load Video</button>

    <video id="myPlayer" class="video-js" controls preload="auto" width="640" height="360" data-setup='{"techOrder": ["flash"]}'>
        <source id="videoSource" src="" type="video/mkv">
        <track id="audioTrack" label="English" kind="audio" srclang="en" src="" default>
    </video>

    <h2>Detected Audio Track:</h2>
    <p id="audioTrackDisplay"></p>

    <script>
        var player = videojs('myPlayer');

        function loadVideo() {
            var videoLink = document.getElementById('videoLink').value;
            var videoSource = document.getElementById('videoSource');
            var audioTrack = document.getElementById('audioTrack');
            var audioTrackDisplay = document.getElementById('audioTrackDisplay');

            // Load video source
            videoSource.src = videoLink;

            // Auto-detect audio tracks
            player.src({ src: videoLink, type: "video/mkv" });
            player.textTracks().forEach(function(track) {
                if (track.kind === "audio") {
                    track.mode = "hidden";
                    audioTrack.label = track.label;
                    audioTrack.src = track.src;
                }
            });

            // Display detected audio track
            audioTrackDisplay.innerText = audioTrack.label;

            // Audio track change support
            player.on("trackchange", function() {
                var currentTrack = player.currentTrack();
                if (currentTrack && currentTrack.kind === "audio") {
                    audioTrackDisplay.innerText = currentTrack.label;
                }
            });
        }

        // Initialize video player
        player.ready(function() {
            loadVideo();
        });
    </script>
</body>
</html>
